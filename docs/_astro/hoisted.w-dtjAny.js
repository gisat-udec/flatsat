import{i as l}from"./solid.C4r5Y9fm.js";import{S as c}from"./serial.Cg_ZbxD2.js";let n={};const[k,m]=l(n);let t={frame:0,chunks:0,chunk:[]};c.OnPacket=e=>{let i=e.getUint32(4,!0);if(n[i]={camera_ok:e.getUint8(8),imu_ok:e.getUint8(9),ambient_ok:e.getUint8(10),imu_x:e.getFloat32(11,!0),imu_y:e.getFloat32(15,!0),imu_z:e.getFloat32(19,!0),ambient_temp:e.getFloat32(23,!0),ambient_pressure:e.getFloat32(27,!0),jpeg:""},e.getUint8(31)==1){let r=e.getUint32(32,!0),u=e.getUint8(36),g=e.getUint8(37);t.frame!=r&&(t.frame=r,t.chunks=g,t.chunk=[]),t.chunk[u]=new Uint8Array(e.buffer,38,e.byteLength-38),t.chunk.length==g&&(n[i].jpeg=window.URL.createObjectURL(new Blob([...t.chunk])))}m({...n})};export{k as c};
